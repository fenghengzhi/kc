/**
     * @author: 
     *    jiangrun002
     * @version: 
     *    v0.2.6
     * @license:
     *    Copyright 2017, hiknowledge. All rights reserved.
     */

var huConfig={namespace:"hu-"},huBackTop=function(){function t(){t.init()}return t.init=function(){$(window).scroll(function(){t.selector="html,body";var e=document.body.scrollTop||document.documentElement.scrollTop,a=$(t.cls),r=parseInt(a.attr(t.attrName))||0;a.toggleClass("on",e>r+t.offsetDistance)}),$("body").on("click",t.cls,function(e){var a=$(e.currentTarget).attr(t.attrName)||0;$(t.selector).animate({scrollTop:a},t.duration)}),t.bindScrollEvent(this.cls)},t.bindScrollEvent=function(e){$(e).parent().scroll(function(a){t.selector=a.currentTarget;var r=a.currentTarget.scrollTop,n=$(a.currentTarget).find(e),o=parseInt(n.attr(t.attrName))||0;n.toggleClass("on",r>o+t.offsetDistance)})},t.namespace=huConfig.namespace,t.attrName=t.namespace+"data-pos",t.clsName=t.namespace+"backtop",t.cls="."+t.clsName,t.selector="html,body",t.duration=300,t.offsetDistance=500,t}(),huDropdown=function(){function t(){this.init()}return t.prototype.init=function(){$("body").on("click",t.cls+":not(.disabled)>span",function(e){var a=$(e.currentTarget),r=a.attr(t.attrName);if(!r){r=t.namespace+huUtils.randomId(),a.attr(t.attrName,r);var n=a.closest(t.cls),o="inactive ";n.hasClass("dropdown-xs")?o+="dropdown-xs":n.hasClass("dropdown-sm")?o+="dropdown-sm":n.hasClass("dropdown-md")?o+="dropdown-md":n.hasClass("dropdown-lg")&&(o+="dropdown-lg");var i=a.siblings(t.itemsCls);i.children().each(function(t,e){var a=$(e);a.attr("title")||a.attr("title",a.text())}),i.attr(t.attrName,r).attr("data-role","dropdown").addClass(o).appendTo("body")}var s=a.offset(),l=s.left,c=s.top+a.outerHeight()+4;$(t.itemsCls+"["+t.attrName+'="'+r+'"]').css({top:c,left:l,width:a.outerWidth()}).toggleClass("active inactive")}).on("click",t.itemsCls+">li:not(.disabled)",function(t){var e=$(t.currentTarget);e.addClass("active").siblings(".active").removeClass("active")}).on("click",function(e){$(e.target).closest(t.cls).length||$('.active[data-role="dropdown"]'+t.itemsCls).removeClass("active").addClass("inactive")})},t.namespace=huConfig.namespace,t.clsName=t.namespace+"dropdown",t.cls="."+t.clsName,t.attrName=t.namespace+"data-id",t.valueName=t.namespace+"data-value",t.itemsCls="."+t.namespace+"select-dropdown",t}(),huForm=function(){function huForm(){}return huForm.isArrayItem=function(t){return"array"==t.attr(huForm.attrArray)},huForm.setFormData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var n=r.attr,o="fieldset["+n+"],."+huForm.namespace+"fieldset["+n+"]";huForm.setFormDataObj(t,e,r);var i=t.find(o);$.each(i,function(a,i){var s=$(i),l=s.attr(n);if(l){var c=s.parent().closest(o);if(!c.length||c.attr(n)==t.attr(n))if(huForm.isArrayItem(s)){var u=s.parent(),m=u.children("["+huForm.attrModel+"]");m.length?u.children("["+n+'="'+l+'"]:not(['+huForm.attrModel+"])").remove():u.children("["+n+'="'+l+'"]:gt(0)').remove();for(var h in e[l])if(e[l].hasOwnProperty(h)){var d=huForm.buildFormItem(s,m,u,h);huForm.setFormData(d,e[l][h],r)}}else huForm.setFormData(s,e[l],r)}})},huForm.setFormDataObj=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var n=r.attr,o="fieldset["+n+"],."+huForm.namespace+"fieldset["+n+"]",i=t.find("input["+n+"][type=checkbox],input["+n+"][type=radio]");i.prop("checked",!1);var s=t.find("["+n+"]");$.each(s,function(a,i){var s=$(i),l=s.closest(o).attr(n),c=t.attr(n);l!==c||s.is(o)||huForm.updateFormData(s,huForm.getFormItemData(s,e,r),r)})},huForm.getFormItemData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var n=r.attr,o="",i=t.attr(n);return i&&(o=e[i]),o},huForm.updateFormData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var n=r.attr;if(t.is('input[type="checkbox"]'))if(Array.isArray(e)){t.prop("checked",!1);for(var o=0,i=e;o<i.length;o++){var s=i[o];s==t.val()&&huForm.updateItemValue(t,!0,r)}}else huForm.updateItemValue(t,e===!0||e==t.val(),r);else if(t.is('input[type="radio"]'))huForm.updateItemValue(t,e==t.val(),r);else if(Array.isArray(e)){var l=t.parent(),c=t.attr(n),u=l.children("["+huForm.attrModel+"]");u.length?l.children("["+n+'="'+c+'"]:not(['+huForm.attrModel+"])").remove():l.children("["+n+'="'+c+'"]:gt(0)').remove();for(var m in e)if(e.hasOwnProperty(m)){var h=huForm.buildFormItem(t,u,l,m);huForm.updateItemValue(h,e[m],r)}}else huForm.updateItemValue(t,e,r)},huForm.buildFormItem=function(t,e,a,r){return("0"!=r||e.length)&&(t=t.clone(),e.length&&t.removeAttr(huForm.attrModel),t.appendTo(a),t.find("[id]").each(function(e,a){huForm.updateFormItemId($(a),t,r)}),t.attr("id")&&huForm.updateFormItemId(t,a,r)),t},huForm.updateFormItemId=function(t,e,a){var r=t.attr("id"),n=huUtils.randomId(r,"","-"+a);t.attr("id",n),e.find('[for="'+r+'"]').attr("for",n)},huForm.updateItemValue=function($form,data,settings){void 0===settings&&(settings={});var config=huForm.setConfig;$.extend(!0,config,settings),data=config.clearNull?huUtils.clearNullData(data):data;var beforeUpdate=$form.attr(huForm.attrBeforeUpdate);beforeUpdate&&(data=eval(beforeUpdate)(data,$form)),$form.is("IMG")?$form.attr("src",data):$form.is('input[type="checkbox"],input[type="radio"]')?$form.prop("checked",data):$form.is("input,select,textarea")?$form.val(data):$form.is("["+huForm.attrSet+"]")?eval($form.attr(huForm.attrSet))($form,data):$form.is("["+huForm.attrContainer+"]")?$form.is("["+huForm.attrHTML+"]")?$form.find("["+huForm.attrItem+"]").html(data):$form.find("["+huForm.attrItem+"]").text(data):$form.is("["+huForm.attrHTML+"]")?$form.html(data):$form.text(data);var afterUpdate=$form.attr(huForm.attrAfterUpdate);afterUpdate&&eval(afterUpdate)(data,$form)},huForm.getFormData=function(t,e){void 0===e&&(e={});var a=huForm.getConfig;$.extend(!0,a,e);var r=a.attr,n="fieldset["+r+"],."+huForm.namespace+"fieldset["+r+"]",o=t.find(n),i={};return $.each(o,function(e,o){var s=$(o),l=s.attr(r);if(l){var c=s.parent().closest(n);c.length&&c.attr(r)!=t.attr(r)||(huForm.isArrayItem(s)?(i[l]||(i[l]=[]),i[l].push(huForm.getFormData(s,a))):i[l]=huForm.getFormData(s,a))}}),$.extend(i,huForm.getFormDataObj(t,a)),i},huForm.getFormDataObj=function(t,e){void 0===e&&(e={});var a=huForm.getConfig;$.extend(!0,a,e);var r=a.attr,n="fieldset["+r+"],."+huForm.namespace+"fieldset["+r+"],["+huForm.attrModel+"]",o={},i=t.find("["+r+"]");return $.each(i,function(e,i){var s=$(i);if(!s.is(n)){var l=s.closest(n);if(!l.length||l.attr(r)==t.attr(r)){var c=s.attr(r);s.is('input[type="checkbox"]')?s.is("["+huForm.attrSwitch+"]")?o[c]=huForm.getItemValue(s,a):(o[c]||(o[c]=[]),i.checked&&o[c].push(huForm.getItemValue(s,a))):s.is('input[type="radio"]')&&!i.checked?$.noop():huForm.isArrayItem(s)?(o[c]||(o[c]=[]),o[c].push(huForm.getItemValue(s,a))):o[c]=huForm.getItemValue(s,a)}}}),o},huForm.getItemValue=function($form,settings){void 0===settings&&(settings={});var config=huForm.getConfig;$.extend(!0,config,settings);var data="",beforeGet=$form.attr(huForm.attrBeforeGet);if(beforeGet&&(data=eval(beforeGet)(data,$form)),$form.is("IMG"))data=$form.attr("src");else if($form.is('input[type="checkbox"],input[type="radio"]')){var input=$form[0];$form.is("["+huForm.attrSwitch+"]")?data=input.checked:input.checked&&(data=$form.val())}else data=$form.is("input,select,textarea")?$form.val():$form.is("["+huForm.attrGet+"]")?eval($form.attr(huForm.attrGet))($form):$form.is("["+huForm.attrContainer+"]")?$form.is("["+huForm.attrHTML+"]")?$form.find("["+huForm.attrItem+"]").html():$form.find("["+huForm.attrItem+"]").text():$form.is("["+huForm.attrHTML+"]")?$form.html():$form.text();var afterGet=$form.attr(huForm.attrAfterGet);return afterGet&&(data=eval(afterGet)(data,$form)),data},huForm.namespace=huConfig.namespace,huForm.attrArray=huForm.namespace+"data-type",huForm.attrBeforeGet=huForm.namespace+"data-beforeget",huForm.attrAfterGet=huForm.namespace+"data-afterget",huForm.attrBeforeUpdate=huForm.namespace+"data-beforeupdate",huForm.attrAfterUpdate=huForm.namespace+"data-afterupdate",huForm.attrContainer=huForm.namespace+"data-container",huForm.attrGet=huForm.namespace+"data-get",huForm.attrItem=huForm.namespace+"data-item",huForm.attrModel=huForm.namespace+"data-model",huForm.attrHTML=huForm.namespace+"data-html",huForm.attrSet=huForm.namespace+"data-set",huForm.attrSwitch=huForm.namespace+"data-switch",huForm.setConfig={attr:"name",clearNull:!0},huForm.getConfig={attr:"name"},huForm}();$(function(){new huTabs,new huDropdown,new huSelect,new huTag,new huBackTop});var huPagination=function(){function t(e){if(this.config=$.extend(!0,{},t.defaultConfig,e),this.config.total||(this.config.totalItem&&this.config.pageSize?this.config.total=Math.ceil(this.config.totalItem/this.config.pageSize):huUtils.error("total或totalItem与pageSize不能同时为空")),this.config.selector){if(this.$container=$(this.config.selector),this.$container.is("ul"))this.$container.hasClass(t.clsName)||this.$container.addClass(t.clsName);else{var a='<ul class="'+t.clsName+'"></ul>';this.$container.html(a),this.$container=this.$container.find(t.cls)}this.$container.addClass(this.config.cls),this.init()}else huUtils.error("selector不能为空")}return t.prototype.init=function(){this.buildHTML(),this.bindEvent()},t.prototype.buildHTML=function(){var e=this.config.total,a=Math.floor(this.config.current),r="";if(0==e)r="";else if(e<a)r="",huUtils.error("当前页数不能大于总页数");else{var n=this.config.showNum,o=(this.config.showNum-1)/2,i=1,s=e,l=this.config.prevNextEnable,c=this.config.prevNextMultiEnable,u=this.config.startEndEnable,m=this.config.jumpEnable,h=this.config.totalItemShow;s>n&&(a-o>1&&(i=Math.ceil(a-o)),s-a<o?i=s-n+1:s=i+n-1);var d=1!=a,f=d?"":"disabled",p=a!=e,v=p?"":"disabled";h&&(r+='<li class="page-total">共计'+this.config.totalItem+"个</li>"),u&&(r+='<li class="page-item page-first '+f+'" '+t.attrName+'="1" title="首页"></li>'),c&&(r+='<li class="page-item page-prev-multi '+f+'" '+t.attrName+'="'+(a-n<1?1:a-n)+'" title="往前翻'+n+'页"></li>'),l&&(r+='<li class="page-item page-prev '+f+'" '+t.attrName+'="'+(a-1<1?1:a-1)+'" title="上一页"></li>');for(var g=i;g<=s;g++)r+='<li class="page-item '+(g==a?"active":"")+'" '+t.attrName+'="'+g+'">'+g+"</li>";l&&(r+='<li class="page-item page-next '+v+'" '+t.attrName+'="'+(a+1>e?e:a+1)+'" title="下一页"></li>'),c&&(r+='<li class="page-item page-next-multi '+v+'" '+t.attrName+'="'+(a+n>e?e:a+n)+'" title="往后翻'+n+'页"></li>'),u&&(r+='<li class="page-item page-last '+v+'" '+t.attrName+'="'+e+'" title="末页"></li>'),m&&(r+='<li class="page-jump"><span>跳转到</span><input type="number" min="1" max="'+e+'" step="1" class="'+t.namespace+'input" value="'+a+'"><span>页</span></li>')}this.$container.html(r)},t.prototype.bindEvent=function(){var e=this;this.$container.off(),this.$container.on("click","li:not(.disabled)["+t.attrName+"]",{eventData:this.config.data},function(a){var r=a.data.eventData,n=$(a.currentTarget).attr(t.attrName);e.config.callback(a,n,r)}),this.$container.on("click","li.page-jump button",{eventData:this.config.data},function(t){var a=t.data.eventData,r=$(t.currentTarget).prev("input").val();e.goTo(t,r,a)}),this.$container.on("keyup","li.page-jump input",{eventData:this.config.data},function(t){var a=$(t.currentTarget).val(),r=/^[0-9]*$/;if(""==a);else if(r.test(a+""))a>e.config.total?$(t.currentTarget).val(e.config.total):a<1&&$(t.currentTarget).val(1);else{var n=$(t.currentTarget).data("data");$(t.currentTarget).val(n)}}),this.$container.on("keydown","li.page-jump input",{eventData:this.config.data},function(t){var a=t.keyCode||t.which||t.charCode,r=$(t.currentTarget).val();if(13==a){var n=t.data.eventData;e.goTo(t,r,n)}else $(t.currentTarget).data("data",r)})},t.prototype.goTo=function(t,e,a){e<=this.config.total&&e>0?this.config.callback(t,e,a):huUtils.error("跳转页不存在")},t.namespace=huConfig.namespace,t.attrName=t.namespace+"page",t.clsName=t.namespace+"pagination",t.cls="."+t.clsName,t.defaultConfig={callback:$.noop,cls:"",current:1,jumpEnable:!1,prevNextEnable:!1,prevNextMultiEnable:!1,selector:"",showNum:9,startEndEnable:!0,totalItemShow:!1},t}(),huSelect=function(){function huSelect(){huSelect.init()}return huSelect.init=function(){$("body").on("click",huSelect.cls+":not(.disabled)>span",function(t){var e=$(t.currentTarget),a=e.attr(huSelect.attrName);if(!a){a=huSelect.namespace+huUtils.randomId(),e.attr(huSelect.attrName,a);var r=e.closest(huSelect.cls),n="inactive ";r.hasClass("select-xs")?n+="select-xs":r.hasClass("select-sm")?n+="select-sm":r.hasClass("select-md")?n+="select-md":r.hasClass("select-lg")&&(n+="select-lg");var o=e.siblings(huSelect.itemsCls);o.children().each(function(t,e){var a=$(e);a.attr("title")||a.attr("title",a.text())}),o.attr(huSelect.attrName,a).attr("data-role","select").addClass(n).appendTo("body")}var i=e.offset(),s=i.left,l=i.top+e.outerHeight()+4;$(huSelect.itemsCls+"["+huSelect.attrName+'="'+a+'"]').css({top:l,left:s,width:e.outerWidth()}).toggleClass("active inactive")}).on("click",huSelect.itemsCls+">li:not(.disabled)",function(t){var e=$(t.currentTarget),a=e.parent().attr(huSelect.attrName),r=e.attr(huSelect.valueName),n=$(huSelect.cls+" span["+huSelect.attrName+'="'+a+'"]').parent();huSelect.set(n,r)}).on("click",function(t){$(t.target).closest(huSelect.cls).length||$('.active[data-role="select"]'+huSelect.itemsCls).removeClass("active").addClass("inactive")})},huSelect.getItemsContainer=function(t){var e=t.children(huSelect.itemsCls);if(!e.length){var a=t.children("span").attr(huSelect.attrName);e=$('[data-role="select"]['+huSelect.attrName+'="'+a+'"]'+huSelect.itemsCls)}return e},huSelect.rebuildOptions=function(t,e,a){var r=huSelect.getItemsContainer(t);r.empty();for(var n=0,o=e;n<o.length;n++){var i=o[n],s="";i.value==a&&(s="active"),r.append("<li "+huSelect.valueName+'="'+i.value+'" class="'+s+'" title="'+i.label+'">'+i.label+"</li>")}a&&huSelect.set(t,a)},huSelect.get=function(t){var e=t.children("span");return e.attr(huSelect.valueName)},huSelect.set=function($item,value){var $shower=$item.children("span"),id=$shower.attr(huSelect.attrName),$options=$item.children(huSelect.itemsCls);id&&($options=$(huSelect.itemsCls+"["+huSelect.attrName+'="'+id+'"]'));var $option=$options.children("["+huSelect.valueName+'="'+value+'"]');if($option.length){var text=$option.text();$option.addClass("active").siblings(".active").removeClass("active"),$shower.text(text).attr(huSelect.valueName,value)}else $shower.text("").attr(huSelect.valueName,"");var onchange=$item.attr(huSelect.attrChange);onchange&&eval(onchange)(value,$item)},huSelect.namespace=huConfig.namespace,huSelect.clsName=huSelect.namespace+"select",huSelect.cls="."+huSelect.clsName,huSelect.attrName=huSelect.namespace+"data-id",huSelect.itemsCls="."+huSelect.namespace+"select-dropdown",huSelect.valueName=huSelect.namespace+"data-value",huSelect.attrChange=huSelect.namespace+"data-change",huSelect}(),huTabs=function(){function t(){t.namespace=huConfig.namespace,t.clsName=t.namespace+"tabs",t.cls="."+t.clsName,t.init()}return t.bindEvent=function(){var e=">.tabs-nav-container:not(.show-all)>.tabs-wrap";$("body").on("click",t.cls+">li:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.find("a").attr("href");a=$('a[href="'+r+'"]').closest("li");var n=$(r),o=n.siblings(".active"),i="#"+o.attr("id"),s=$('a[href="'+i+'"]').closest("li");a.addClass("active"),n.addClass("active"),s.removeClass("active"),o.removeClass("active"),a.each(function(e,a){var r=$(a);t.resize(r.closest(t.cls)),t.resetDecorationPos(r)}),s.each(function(e,a){var r=$(a);r.siblings(".active").length||t.resetDecorationPos(r)})}).on("click",".tabs-prev-control:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.siblings(".tabs-wrap"),n=t.isVertical(a),o="outerWidth";n&&(o="outerHeight");var i=r[o]();t.resetPos(r,i,n)}).on("click",".tabs-next-control:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.siblings(".tabs-wrap"),n=t.isVertical(a),o="outerWidth";n&&(o="outerHeight");var i=r[o]();t.resetPos(r,-i,n)}).on("mousewheel",".tabs-left"+e+",.tabs-right"+e,function(e){var a=$(e.currentTarget);t.resetPos(a,e.deltaY*e.deltaFactor,!0)}),$(window).resize(function(e){t.resizeAll()})},t.calcEnable=function(e,a){var r=e.parent(),n="width",o="margin-left";return t.isVertical(e)&&(n="height",o="margin-top"),a="undefined"==typeof a?parseInt(e.css(o)):a,{prev:a<0,next:r[n]()-a<e[n]()}},t.init=function(){t.bindEvent(),t.resizeAll()},t.isVertical=function(t){return t.closest(".tabs-nav-container").parent(".tabs-left,.tabs-right").length>0},t.resetAllClickable=function(){$(t.cls).each(function(e,a){t.resetClickable($(a))})},t.resetClickable=function(e,a,r){if("undefined"==typeof a||"undefined"==typeof r){var n=t.calcEnable(e);a=n.prev,r=n.next}var o=e.parent();o.siblings(".tabs-prev-control").toggleClass("disabled",!a),o.siblings(".tabs-next-control").toggleClass("disabled",!r)},t.resetDecorationPos=function(e){var a=t.isVertical(e),r="width",n="outerWidth",o="left";a&&(r="height",n="outerHeight",o="top");var i=e.siblings(".tabs-decoration");if(e.hasClass("active")){var s=e[n]();i[r](s);var l=e.position()[o];i.css(o,l)}else{var s=i[n]();i[r](0);var l=i.position()[o];i.css(o,l+s/2)}},t.resetPos=function(e,a,r){var n=e.children("ul"),o="outerWidth",i="margin-left";r&&(o="outerHeight",i="margin-top");var s=e[o](),l=n[o]()-s,c=parseInt(n.css(i)),u=c+a,m=u>-l?u:-l;m=m<0?m:0,n.css(i,m),t.resetClickable(n,0!==m,m!==-l)},t.resizeAll=function(){t.wrapAll(),$(t.cls).each(function(e,a){t.resize($(a))})},t.resize=function(e){var a="width",r="outerWidth",n="left",o="margin-"+n;t.isVertical(e)&&(a="height",r="outerHeight",n="top",o="margin-"+n);var i=0;e.children("li:not(.tabs-decoration)").each(function(t,e){i+=$(e)[r]()});var s=e.closest(".tabs-nav-container"),l=s[a]();if(s.toggleClass("show-all",l>=i),l<i){e[a](i);var c=e.children("li.active"),u=c.position()[n],m=parseInt(e.css(o));u+m<0?m=-u:u+c[r]()+m>l&&(m=l-c[r]()-u);var h=e[a]();l>h+m&&m<0&&(m=l-h),e.css(o,m);var d=t.calcEnable(e,m);t.resetClickable(e,d.prev,d.next)}},t.wrapAll=function(){$(t.cls).each(function(e,a){t.wrap($(a))})},t.wrap=function(e){if(!e.parent(".tabs-wrap").length){var a='<div class="tabs-wrap"></div>',r='<div class="tabs-nav-container"></div>',n=$('<li class="tabs-decoration"></li>'),o='<div class="tabs-control tabs-prev-control"></div><div class="tabs-control tabs-next-control"></div>';e.wrap(r).after(o).wrap(a),e.append(n),t.resetDecorationPos(e.children("li.active"))}},t.cls="",t.clsName="",t.namespace="",t}(),huTag=function(){function t(){this.init()}return t.prototype.init=function(){$("body").on("click",t.cls+":not(.disabled) .close",function(e){$(e.currentTarget).closest(t.cls).remove()})},t.namespace=huConfig.namespace,t.clsName=t.namespace+"tag",t.cls="."+t.clsName,t}(),huUtils=function(){function t(){}return t.randomId=function(t,e,a){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===a&&(a=""),t+(a?a:(new Date).getTime()+Math.ceil(1e3*Math.random()))+e},t.error=function(t){console.error(t)},t.clearNullData=function(e){if(Array.isArray(e)||$.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&(e[a]=t.clearNullData(e[a]));else e=t.changeNullData(e);return e},t.changeNullData=function(t){return 0!==t&&t!==!1?t||"":t},t}();